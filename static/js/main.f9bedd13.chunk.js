(this["webpackJsonpreact-hw-07_phonebook"]=this["webpackJsonpreact-hw-07_phonebook"]||[]).push([[0],{13:function(e,t,a){e.exports={appear:"app_appear__rEE-g",appearActive:"app_appearActive__8ZWWK",wrapper:"app_wrapper__3Cb3s",title:"app_title__15isu",titleEmpty:"app_titleEmpty__-VxPf app_title__15isu",wrapperTitleWithAlert:"app_wrapperTitleWithAlert__1LwQ4"}},21:function(e,t,a){e.exports={enter:"alertError_enter__1vfOj",enterActive:"alertError_enterActive__3Q65h",exit:"alertError_exit__1VSHp",exitActive:"alertError_exitActive__2NP-a",alert:"alertError_alert__1tjKD",message:"alertError_message__2h_H0"}},35:function(e,t,a){e.exports={wrapperFilter:"filter_wrapperFilter__2eCkD"}},42:function(e,t,a){e.exports=a(71)},5:function(e,t,a){e.exports={form:"contactForm_form__YedcG",label:"contactForm_label__1lxmi",input:"contactForm_input__2KXel",btnAddContant:"contactForm_btnAddContant__3p1gZ"}},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),o=a.n(c),i=a(4),l=a(7),s=a(15),u=a(33),p=a(34),m=a(39),d=a(38),f="-=contacts/removeContact=-",v="-=contacts/removeError=-",b="-=contacts/addRequest=-",_="-=contacts/addSuccess=-",h="-=contacts/addError=-",g="-=contacts/getRequest=-",E="-=contacts/getSuccess=-",y="-=contacts/getError=-",O="-=contacts/getFilterValue=-",C="-=contacts/existContact=-",w="-=contacts/loaderOn=-",x="-=contacts/loaderOff=-",j={removeContact:function(e){return{type:f,payload:{id:e}}},removeErrorContact:function(e){return{type:v,payload:{error:e}}},addContactReequest:function(){return{type:b}},addContactSuccess:function(e){return{type:_,payload:Object(l.a)({},e)}},addErrorContact:function(e){return{type:h,payload:{error:e}}},getContactReequest:function(e){return{type:g,payload:Object(l.a)({},e)}},getContactSuccess:function(e){return{type:E,payload:e}},getErrorContact:function(e){return{type:y,payload:{error:e}}},getFilterValue:function(e){return{type:O,payload:{filter:e}}},toggleAlert:function(){return{type:C}},loaderOn:function(){return{type:w}},loaderOff:function(){return{type:x}}},A=a(10),N=a.n(A),L=a(16),k=a(17),F=a.n(k),S={addContactOperation:function(e){return function(){var t=Object(L.a)(N.a.mark((function t(a){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(j.loaderOn()),t.prev=1,t.next=4,F.a.post("https://hw-07-async-redux.firebaseio.com/contacts.json",e);case 4:n=t.sent,a(j.addContactSuccess(Object(l.a)(Object(l.a)({},e),{},{id:n.data.name}))),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("error-add",t.t0),a(j.addErrorContact(t.t0));case 12:return t.prev=12,a(j.loaderOff()),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,8,12,15]])})));return function(e){return t.apply(this,arguments)}}()},getContactOperation:function(){return function(){var e=Object(L.a)(N.a.mark((function e(t){var a,n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(j.loaderOn()),e.prev=1,e.next=4,F.a.get("https://hw-07-async-redux.firebaseio.com/contacts.json");case 4:a=e.sent,n=Object.entries(a.data),r=n.map((function(e){return Object(l.a)({id:e[0]},e[1])})),t(j.getContactSuccess(r)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("error-get",e.t0),t(j.getErrorContact(e.t0));case 14:return e.prev=14,t(j.loaderOff()),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})));return function(t){return e.apply(this,arguments)}}()},removeContactOperation:function(e){return function(){var t=Object(L.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(j.loaderOn()),t.prev=1,t.next=4,F.a.delete("https://hw-07-async-redux.firebaseio.com/contacts/".concat(e,".json"));case 4:t.sent,a(j.removeContact(e)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("error-remove",t.t0),a(j.removeErrorContact(t.t0));case 12:return t.prev=12,a(j.loaderOff()),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,8,12,15]])})));return function(e){return t.apply(this,arguments)}}()}},R=a(5),W=a.n(R),D=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={name:"",number:""},e.handleInputChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(s.a)({},n,r))},e.handleSubmit=function(t){t.preventDefault(),e.dublicate()?(e.props.onAlert(),setTimeout((function(){e.props.onAlert()}),1e3)):(e.props.addContactOperation(Object(l.a)({},e.state)),e.reset())},e.reset=function(){e.setState({name:"",number:""})},e.dublicate=function(){return e.props.items.some((function(t){return t.name.toLowerCase()===e.state.name.toLowerCase()}))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.getContactOperation()}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.number;return r.a.createElement(r.a.Fragment,null,this.props.loading?r.a.createElement("h2",null,"Loading..."):r.a.createElement("form",{onSubmit:this.handleSubmit,className:W.a.form},r.a.createElement("label",{className:W.a.label},"Name:",r.a.createElement("input",{type:"text",name:"name",value:t,onChange:this.handleInputChange,className:W.a.input})),r.a.createElement("label",{className:W.a.label},"Number:",r.a.createElement("input",{type:"text",name:"number",value:a,onChange:this.handleInputChange,className:W.a.input})),r.a.createElement("button",{type:"submit",className:W.a.btnAddContant},"Add contact")),this.props.error&&r.a.createElement("h2",null,"ERROR!"))}}]),a}(n.Component),I={addContactOperation:S.addContactOperation,getContactOperation:S.getContactOperation,onAlert:j.toggleAlert},V=Object(i.b)((function(e){return{items:e.contacts.items,error:e.contacts.error,loading:e.contacts.loading}}),I)(D),K=a(35),q=a.n(K);var T={getFilterValue:j.getFilterValue},G=Object(i.b)((function(e){return{filter:e.contacts.filter}}),T)((function(e){var t=e.getFilterValue,a=e.filter;return r.a.createElement("div",{className:q.a.wrapperFilter},r.a.createElement("label",{className:W.a.label},"Find contacts by name:",r.a.createElement("input",{type:"text",name:"filter",onChange:function(e){t(e.target.value)},value:a,className:W.a.input})))})),M=a(9),P=a.n(M),Z=a(73),H=a(72);var J={onRemoveContact:S.removeContactOperation},Q=Object(i.b)((function(e,t){var a=t.id;return{contact:e.contacts.items.find((function(e){return e.id===a}))}}),J)((function(e){var t=e.name,a=e.number,n=e.id,c=e.onRemoveContact;return r.a.createElement("li",{className:P.a.contactListItem},r.a.createElement("div",{className:P.a.contactWrapper},r.a.createElement("span",null,t,":"),r.a.createElement("span",null,a)),r.a.createElement("button",{type:"button",onClick:function(){c(n)},className:P.a.btnDelete},"\u274c"))}));var B=Object(i.b)((function(e){return{items:e.contacts.items.filter((function(t){return t.name.toLowerCase().includes(e.contacts.filter.toLowerCase())}))}}))((function(e){var t=e.items,a=void 0===t?[]:t;return r.a.createElement(Z.a,{className:P.a.contactList,component:"ul"},a.map((function(e){return r.a.createElement(H.a,{key:e.id,id:e.id,timeout:500,classNames:P.a},r.a.createElement(Q,{key:e.id,name:e.name,number:e.number,id:e.id}))})))})),U=a(13),X=a.n(U),Y=a(21),z=a.n(Y);var $=function(){return r.a.createElement("div",{className:z.a.alert},r.a.createElement("span",{className:z.a.message},"Contact already exists!"))};var ee=Object(i.b)((function(e){return{alert:e.contacts.alert}}))((function(e){var t=e.alert;return e.loading,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:X.a.wrapper},r.a.createElement("div",{className:X.a.wrapperTitleWithAlert},r.a.createElement(H.a,{classNames:X.a,in:!0,appear:!0,timeout:500,unmountOnExit:!0},r.a.createElement("h1",{className:X.a.title},"Phonebook")),t&&r.a.createElement($,null)),r.a.createElement(V,null),r.a.createElement(G,null),r.a.createElement(B,null)))})),te=a(6),ae=a(36),ne=a(22),re=Object(te.combineReducers)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case E:return n;case _:return[].concat(Object(ne.a)(e),[n]);case f:return Object(ne.a)(e.filter((function(e){return e.id!==n.id})));default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return t.payload.filter;default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return!e;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:case y:case v:return t.payload;case b:case g:case f:return null;default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=t.type;switch(a){case w:return!0;case x:return!1;default:return e}}}),ce=a(37),oe=Object(te.combineReducers)({contacts:re}),ie=[ce.a],le=Object(te.createStore)(oe,Object(ae.composeWithDevTools)(te.applyMiddleware.apply(void 0,ie)));a(70);o.a.render(r.a.createElement(i.a,{store:le},r.a.createElement(ee,null)),document.getElementById("root"))},9:function(e,t,a){e.exports={enter:"contactList_enter__2heqK",enterActive:"contactList_enterActive__n-FF2",exit:"contactList_exit__3MCbb",exitActive:"contactList_exitActive__2ZRse",contactListItem:"contactList_contactListItem__3WoKj",contactWrapper:"contactList_contactWrapper__ULGKW",btnDelete:"contactList_btnDelete__3gGIn"}}},[[42,1,2]]]);
//# sourceMappingURL=main.f9bedd13.chunk.js.map